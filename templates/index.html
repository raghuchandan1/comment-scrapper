<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Youtube Comment Analysis</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i"
        rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        #videoDetailsDiv,
        #commentAnalysisDiv {
            min-height: 100vh;
            width: 100%;
        }
    </style>

</head>

<body>

    <nav class="navbar navbar-dark bg-primary">
        <!-- navbar-fixed-top     -->
        <div class="container-fluid">
            <a class="navbar-brand align-content-center" href="#">
                <img src="{{url_for('static', filename='Analysis.png')}}" width="50" height="50" class="d-inline-block" alt="" loading="lazy">
                <b>Youtube Comment Analysis</b>
            </a>
        </div>
    </nav>


    <div class="jumbotron">
        <div class="container-fluid">
            <h1 class="display-4 text-center">Youtube Comment Analysis</h1>
            <hr class="my-4">
            <form class="row g-2" action="/results" method="post">
                <input type="url" class="form-control form-control-lg col-12 m-4 mx-auto" id="youtubeURL"
                    name="youtubeURL" placeholder="Enter the YouTube URL">
                <!-- <div class="input-group mb-3">
                    <span class="input-group-text" id="youtube-baseURL">https://www.youtube.com/watch?v=</span>
                    <input type="text" class="form-control" id="youtubeID" aria-describedby="youtube-baseURL"
                        placeholder="Enter the YouTube Video ID">
                </div> -->
                <button type="submit" class="btn btn-lg btn-success col-2 mx-auto"
                    id="analyzeCommentsButton">Analyze</button>
                <!-- <button type="button" class="btn btn-lg btn-success col-2 mx-auto" id="analyzeComments">Analyze</button> -->
            </form>
        </div>
    </div>


    <!-- <div class="jumbotron">         -->

    <!-- <div id="videoDetailsDiv" class="container-fluid p-4">
        <div class="text-center">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/YouTube_full-color_icon_%282017%29.svg/1280px-YouTube_full-color_icon_%282017%29.svg.png"
                width="70" height="50" class="d-inline rounded" alt="" loading="lazy">
            <h1 class="display-4">Video Details</h1>
            <hr class="my-4 col-11">
        </div>
        <div class="row align-items-center">
            <div class="col-sm-6 mx-auto">
                <div class="embed-responsive embed-responsive-16by9">
                    <iframe class="embed-responsive-item" src={{ data.ytURL }}></iframe>
                </div> -->

    <!-- <p>{{ data.ytURL }}</p> -->

    <!-- </div>
            <div class="w-100 m-2"></div>
            <div class="col-sm-6 mx-auto">
                <div class="row text-center">
                    <div class="col">
                        <h4>Views</h4>
                        <p>{{ data.views }}</p>
                    </div>
                    <div class="col">
                        <h4>Likes</h4>
                        <p>{{ data.likes }}</p>
                    </div>
                    <div class="col">
                        <h4>Dislikes</h4>
                        <p>{{ data.dislikes }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div> -->

    <!-- </div> -->

    <!-- <div id="commentAnalysisDiv" class="container-fluid p-4">
        <div class="text-center">
            <img src="https://icons.iconarchive.com/icons/paomedia/small-n-flat/1024/bubble-icon.png" width="70"
                height="70" class="d-inline rounded" alt="" loading="lazy">
            <h1 class="display-4">Comment Analysis</h1>
            <hr class="my-4 col-11">
        </div>
        <div class="col-sm-6 mx-auto" id="plotDiv">

        </div>
        <script>
            var data = [
                {
                    x: ['Negative', 'Neutral', 'Positive'],
                    y: [20, 14, 23],
                    type: 'bar'
                }
            ];

            Plotly.newPlot('plotDiv', data);
        </script>
    </div> -->

    <div class="alan-btn"></div>
    <script type="text/javascript" src="https://studio.alan.app/web/lib/alan_lib.js"></script>
    <script>
        var alanBtnInstance = alanBtn({
            key: "8b6418beba0d6efb08f43260570725672e956eca572e1d8b807a3e2338fdd0dc/stage",
            onCommand: function (commandData) {
                if (commandData.command === "submit") {
                    //call client code that will react on the received command
                    submit();
                }
                else if (commandData.command === "fetch_results_neutral") {
                    fetch_results_neutral();
                }
                else if (commandData.command === "fetch_results_positive") {
                    fetch_results_positive();
                }
                else if (commandData.command === "fetch_results_negative") {
                    fetch_results_negative();
                }
            },
            rootEl: document.getElementById("alan-btn"),
        });
        function submit() {
            document.getElementById("analyzeCommentsButton").click();
            console.log("Submitted");
        }
        function fetch_results_positive() {
            console.log("Feteched positive results")
        }
        function fetch_results_negative() {
            console.log("Feteched negative results")
        }
        function fetch_results_neutral() {
            console.log("Feteched neutral results")
        }
    </script>
    {% block content %}
    {% endblock %}

</body>

</html>